<app-navbar></app-navbar>

<section class="bg-gray-100 py-8">
  <div class="max-w-6xl mx-auto px-4 text-center">
    <h1 class="text-3xl font-bold text-gray-800 mb-4">Dashboard Overview</h1>
    Welcom back EMAIL, Voici un tableau de bord pour vous :D
    <div class="flex flex-col sm:flex-row justify-center gap-6 text-lg text-gray-600">
      <p><strong>Views</strong>: {{ vus?.length }}</p>
      <p><strong>Favoris</strong>: {{ favoris?.length }}</p>
      <p><strong>Comparisons</strong>: {{ comparisons?.length }}</p>
      <div *ngIf="newestVoiture && newestVu">
        <p>Voiture: {{ newestVoiture?.image }} {{ newestVoiture?.marque }} ({{ newestVoiture?.model }})</p>
        <p>Viewed at: {{ newestVu?.datetime | date }}</p>
      </div>
    </div>
  </div>
</section>

<main class="bg-white py-10">
  <div class="max-w-6xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-2 gap-8">
    
    <section class="bg-gray-50 p-6 rounded-xl shadow-md">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Viewing Trends</h2>
      <canvas baseChart
              [type]="'line'"
              [datasets]="viewingTrendsData"
              [labels]="viewingTrendsLabels"
              [options]="viewingTrendsOptions">
      </canvas>
    </section>

    <section class="bg-gray-50 p-6 rounded-xl shadow-md">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Like Rate VOUS AVEZ AIMER 40% DE VOITURES VUS</h2>
      <canvas baseChart
              [type]="'doughnut'"
              [datasets]="LikeRateData"
              [labels]="LikeRateLabels"
              [options]="LikeRateOptions">
      </canvas>
    </section>

    <section class="bg-gray-50 p-6 rounded-xl shadow-md">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Viewed Marques</h2>
      <canvas baseChart
              [type]="'bar'"
              [datasets]="ViewedMarquesData"
              [labels]="ViewedMarquesLabels"
              [options]="ViewedMarquesOptions">
      </canvas>
    </section>

    <section class="bg-gray-50 p-6 rounded-xl shadow-md">
      <h2 class="text-xl font-semibold text-gray-800 mb-4 text-center">Liked Marques</h2>
      <canvas baseChart
              [data]="{ labels: LikedMarquesLabels, datasets: LikedMarquesData }"
              [options]="LikedMarquesOptions"
              chartType="doughnut">
      </canvas>
    </section>
  </div>
</main>

<app-footer></app-footer>
