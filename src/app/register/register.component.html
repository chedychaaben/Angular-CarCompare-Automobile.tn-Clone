<div class="grid place-items-center min-w-screen min-h-screen p-4 bg-gray-50 dark:bg-black">
  <a routerLink="/" class="fixed top-4 left-4 z-50 inline-flex items-center px-4 py-2 bg-stone-800 text-white rounded-xl hover:bg-stone-700 shadow-md">
    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
    </svg>
    Retour
  </a>

  <div class="w-full max-w-lg lg:max-w-md mx-auto p-6 sm:p-16 lg:p-0">
    <h2 class="font-sans antialiased text-stone-800 font-bold text-xl md:text-2xl lg:text-3xl text-current mb-2 text-center">
      Créer votre compte
    </h2>

    <!-- Error Message -->
    <div *ngIf="registerError" class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-lg text-sm mt-4">
      {{ registerError }}
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="registerUser()" class="mt-8">
      <!-- Email Field -->
      <div class="mb-6 space-y-1.5">
        <label for="email" class="block mb-2 text-sm font-semibold antialiased text-stone-800">Adresse e-mail</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          placeholder="exemple@domaine.com"
          class="w-full aria-disabled:cursor-not-allowed outline-none focus:outline-none text-stone-800 dark:text-white placeholder:text-stone-600/60 ring-transparent border border-stone-200 transition-all ease-in disabled:opacity-50 disabled:pointer-events-none select-none text-sm py-2 px-2.5 ring shadow-sm bg-white dark:bg-neutral-800 rounded-lg duration-100 hover:border-stone-300 focus:border-stone-400"
        />
        <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid" class="text-sm text-red-600">
          <span *ngIf="registerForm.get('email')?.errors?.['required']">L'email est requis.</span>
          <span *ngIf="registerForm.get('email')?.errors?.['email']">Format d'email invalide.</span>
        </div>
      </div>

      <!-- Password Field -->
      <div class="mb-6 space-y-1.5">
        <label for="password" class="block mb-2 text-sm font-semibold antialiased text-stone-800">Mot de passe</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          placeholder="Votre mot de passe"
          class="w-full aria-disabled:cursor-not-allowed outline-none focus:outline-none text-stone-800 dark:text-white placeholder:text-stone-600/60 ring-transparent border border-stone-200 transition-all ease-in disabled:opacity-50 disabled:pointer-events-none select-none text-sm py-2 px-2.5 ring shadow-sm bg-white dark:bg-neutral-800 rounded-lg duration-100 hover:border-stone-300 focus:border-stone-400"
        />
        <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" class="text-sm text-red-600">
          <span *ngIf="registerForm.get('password')?.errors?.['required']">Le mot de passe est requis.</span>
          <span *ngIf="registerForm.get('password')?.errors?.['minlength']">
            Le mot de passe doit contenir au moins {{ registerForm.get('password')?.errors?.['minlength'].requiredLength }} caractères.
          </span>
        </div>
      </div>

      <!-- Role Selection -->
      <div class="mb-6 space-y-1.5">
        <label for="role" class="block mb-2 text-sm font-semibold antialiased text-stone-800">Rôle</label>
        <select
          id="role"
          formControlName="role"
          class="w-full px-2.5 py-2 rounded-lg border border-stone-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-stone-800 dark:text-white text-sm focus:outline-none focus:border-stone-400 transition duration-100"
        >
          <option value="" disabled selected>Choisir un rôle</option>
          <option value="user">Utilisateur</option>
          <option value="admin">Administrateur</option>
        </select>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        [disabled]="registerForm.invalid"
        class="inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none text-sm py-2 px-4 shadow-sm hover:shadow-md bg-stone-800 hover:bg-stone-700 border-stone-900 text-stone-50 rounded-lg transition antialiased w-full"
      >
        Créer un compte
      </button>
    </form>

    <!-- Link to Login -->
    <p class="font-sans antialiased text-base flex items-center justify-center gap-1 text-stone-600 text-sm mt-2">
      Vous avez déjà un compte ?
      <a routerLink="/login" class="font-sans antialiased text-base text-stone-800 font-semibold text-sm hover:underline">Se connecter</a>
    </p>
  </div>
</div>
